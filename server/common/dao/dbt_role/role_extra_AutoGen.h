// ---------------------------------------------------------------------
// THIS FILE IS AUTO-GENERATED BY SCRIPT, SO PLEASE DON'T MODIFY IT BY YOURSELF!
// Source: apie.role_extra
// ---------------------------------------------------------------------

#pragma once

#include <algorithm>
#include <cstdlib>
#include <iostream>
#include <map>
#include <memory>
#include <string>
#include <tuple>
#include <vector>

#include "apie.h"

namespace apie {
namespace dbt_role {

class role_extra_AutoGen
    : public DeclarativeBase,
      public std::enable_shared_from_this<role_extra_AutoGen> {
private:
  struct db_fields {
    uint64_t user_id;
    std::string extra_info = "";
  };

  enum Fields {
    user_id = 0,
    extra_info = 1,
  };

  virtual std::string getFieldName(uint32_t iIndex) override {

    static std::map<uint32_t, std::string> kFieldNameMap = {
        {role_extra_AutoGen::user_id, "user_id"},
        {role_extra_AutoGen::extra_info, "extra_info"}};

    return kFieldNameMap[iIndex];
  }

public:
  static std::shared_ptr<role_extra_AutoGen> Create(uint64_t user_id) {
    return std::shared_ptr<role_extra_AutoGen>(new role_extra_AutoGen(user_id));
  }

  role_extra_AutoGen(uint64_t user_id) {
    this->fields.user_id = user_id;

    this->bindTable(DeclarativeBase::DBType::DBT_Role, getFactoryName());
  }

  void set_user_id(uint64_t user_id) {
    this->fields.user_id = user_id;
    this->markDirty({role_extra_AutoGen::user_id});
  }

  uint64_t get_user_id() { return this->fields.user_id; }

  void set_extra_info(std::string extra_info) {
    this->fields.extra_info = extra_info;
    this->markDirty({role_extra_AutoGen::extra_info});
  }

  std::string get_extra_info() { return this->fields.extra_info; }

  DAO_DEFINE_TYPE_INTRUSIVE_MACRO(role_extra_AutoGen, db_fields, role_extra);
};

} // namespace dbt_role

APIE_REGISTER_TABLE(DeclarativeBase::DBType::DBT_Role,
                    apie::dbt_role::role_extra_AutoGen, role_extra)

} // namespace apie
